{"ast":null,"code":"import _slicedToArray from\"C:/Users/LENOVO/Desktop/table/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import'./Table.css';import{useState}from\"react\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export function Table(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];function sortColumn(compare){setValue(function(prev){if(prev!==null&&prev.fn===compare){return{fn:compare,stateKey:!prev.stateKey};}else{return{fn:compare,stateKey:true};}});}var cloneData=props.data.concat();if(value!==null){if(value.stateKey){cloneData.sort(value.fn);}else{cloneData.sort(value.fn).reverse();}}return/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:props.columns.map(function(column){return/*#__PURE__*/_jsxs(\"th\",{onClick:function onClick(){return sortColumn(column.compare);},children:[\" \",column.title]},column.title);})})}),/*#__PURE__*/_jsx(\"tbody\",{children:cloneData.map(function(word,i){return/*#__PURE__*/_jsx(\"tr\",{children:props.columns.map(function(column){return/*#__PURE__*/_jsx(\"td\",{children:column.render(word)},column.title);})},i);})})]});}export default Table;","map":{"version":3,"names":["React","useState","Table","props","value","setValue","sortColumn","compare","prev","fn","stateKey","cloneData","data","concat","sort","reverse","columns","map","column","title","word","i","render"],"sources":["C:/Users/LENOVO/Desktop/table/src/components/Table/Table.tsx"],"sourcesContent":["import React from \"react\";\r\nimport './Table.css';\r\nimport { useState } from \"react\";\r\n\r\nexport interface Column<T> {\r\n    title: string;\r\n    render: (w: T) => string;\r\n    compare: Comparator<T>;\r\n\r\n\r\n}\r\n\r\ntype Comparator<T> = (a: T, b: T) => number\r\n\r\n\r\ninterface PropsType<T> {\r\n    data: T[];\r\n    columns: Column<T>[];\r\n}\r\n\r\ninterface State<T> {\r\n    fn: Comparator<T>,\r\n    stateKey: boolean\r\n}\r\n\r\n\r\nexport function Table<T>(props: PropsType<T>) {\r\n\r\n    const [value, setValue] = useState<State<T> | null>(null);\r\n\r\n    function sortColumn(compare:Comparator<T>) {\r\n\r\n        setValue((prev) => {\r\n            if (prev !== null && prev.fn === compare) {\r\n                return {\r\n                    fn: compare,\r\n                    stateKey: !prev.stateKey\r\n                }\r\n            } else {\r\n                return {\r\n                    fn: compare,\r\n                    stateKey: true\r\n\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const cloneData = props.data.concat();\r\n    if (value !== null) {\r\n        if (value.stateKey) {\r\n            cloneData.sort(value.fn)\r\n        } else {\r\n            cloneData.sort(value.fn).reverse()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <table>\r\n            <thead>\r\n                <tr>\r\n                    {props.columns.map((column) => {\r\n                        return <th key={column.title} onClick={() => sortColumn(column.compare)}> {column.title}</th>;\r\n                    })}\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {cloneData.map((word, i) => {\r\n                    return (\r\n                        <tr key={i}>\r\n                            {props.columns.map((column) => {\r\n                                return <td key={column.title}>{column.render(word)}</td>;\r\n                            })}\r\n                        </tr>\r\n\r\n                    );\r\n                })}\r\n            </tbody>\r\n        </table>\r\n    );\r\n}\r\n\r\n\r\nexport default Table;\r\n"],"mappings":"mHAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,aAAP,CACA,OAASC,QAAT,KAAyB,OAAzB,C,wFAwBA,MAAO,SAASC,CAAAA,KAAT,CAAkBC,KAAlB,CAAuC,CAE1C,cAA0BF,QAAQ,CAAkB,IAAlB,CAAlC,wCAAOG,KAAP,eAAcC,QAAd,eAEA,QAASC,CAAAA,UAAT,CAAoBC,OAApB,CAA2C,CAEvCF,QAAQ,CAAC,SAACG,IAAD,CAAU,CACf,GAAIA,IAAI,GAAK,IAAT,EAAiBA,IAAI,CAACC,EAAL,GAAYF,OAAjC,CAA0C,CACtC,MAAO,CACHE,EAAE,CAAEF,OADD,CAEHG,QAAQ,CAAE,CAACF,IAAI,CAACE,QAFb,CAAP,CAIH,CALD,IAKO,CACH,MAAO,CACHD,EAAE,CAAEF,OADD,CAEHG,QAAQ,CAAE,IAFP,CAAP,CAKH,CACJ,CAbO,CAAR,CAcH,CAED,GAAMC,CAAAA,SAAS,CAAGR,KAAK,CAACS,IAAN,CAAWC,MAAX,EAAlB,CACA,GAAIT,KAAK,GAAK,IAAd,CAAoB,CAChB,GAAIA,KAAK,CAACM,QAAV,CAAoB,CAChBC,SAAS,CAACG,IAAV,CAAeV,KAAK,CAACK,EAArB,EACH,CAFD,IAEO,CACHE,SAAS,CAACG,IAAV,CAAeV,KAAK,CAACK,EAArB,EAAyBM,OAAzB,GACH,CACJ,CAED,mBACI,sCACI,oCACI,oBACKZ,KAAK,CAACa,OAAN,CAAcC,GAAd,CAAkB,SAACC,MAAD,CAAY,CAC3B,mBAAO,YAAuB,OAAO,CAAE,yBAAMZ,CAAAA,UAAU,CAACY,MAAM,CAACX,OAAR,CAAhB,EAAhC,eAAoEW,MAAM,CAACC,KAA3E,GAASD,MAAM,CAACC,KAAhB,CAAP,CACH,CAFA,CADL,EADJ,EADJ,cAQI,uBACKR,SAAS,CAACM,GAAV,CAAc,SAACG,IAAD,CAAOC,CAAP,CAAa,CACxB,mBACI,oBACKlB,KAAK,CAACa,OAAN,CAAcC,GAAd,CAAkB,SAACC,MAAD,CAAY,CAC3B,mBAAO,oBAAwBA,MAAM,CAACI,MAAP,CAAcF,IAAd,CAAxB,EAASF,MAAM,CAACC,KAAhB,CAAP,CACH,CAFA,CADL,EAASE,CAAT,CADJ,CAQH,CATA,CADL,EARJ,GADJ,CAuBH,CAGD,cAAenB,CAAAA,KAAf"},"metadata":{},"sourceType":"module"}